{% extends 'base.html' %} {% block content %}

<section>
    <div class="container py-2">
        <div class="row">
            <div
                class="col-12 col-lg-3 d-flex justify-content-center align-items-start"
            >
                <div class="img-frame">
                    <div class="img-view iv-rform">
                        <img
                            src="{{ url_for('static', filename='icons/defaultprofilem.png') }}"
                            id="profileImage"
                            class="square"
                        />
                    </div>
                </div>
            </div>
            <div class="col-12 col-lg-9">
                <!-- Button Card -->
                <div class="card text-center">
                    <div class="card-body p-0">
                        <ul class="nav d-flex justify-content-center">
                            <li
                                class="nav-item btn btn-cookbook3 font-weight-bold"
                                id="btnSub"
                            >
                                <span class="nav-link">Submitted</span>
                            </li>
                            <li
                                class="nav-item btn btn-cookbook3 font-weight-bold"
                                id="btnFav"
                            >
                                <span class="nav-link">Favourites</span>
                            </li>
                            <li
                                class="nav-item btn btn-cookbook3 font-weight-bold"
                                id="btnCom"
                            >
                                <span class="nav-link">Comments</span>
                            </li>
                            <li
                                class="nav-item btn btn-cookbook3 font-weight-bold"
                                id="btnPro"
                            >
                                <span class="nav-link">Edit Profile</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- Subbmitted Recipes View -->
                <div class="card-view" id="subView">
                    {% for recipe in recipes%}
                        {% include 'recipecardsmall.html' %}
                    {% endfor %}
                </div>
                <!-- Favourite Recipes View -->
                <div class="card-view" id="favView" style="display: none;">
                    {% for recipe in favourites%}
                        {% include 'recipecardsmall.html' %}
                    {% endfor %}
                </div>
                <!-- Recipe Comments View -->
                <div class="card-view" id="comView" style="display: none;">
                    {% for data in commentdata%}
                        {% with comment=data[0], recipe=data[1] %}
                            {% include 'commentcardsmall.html' %}
                        {% endwith %}
                    {% endfor %}
                </div>
                <!-- Edit User Profile Form View -->
                <div class="card-view" id="proView" style="display: none;">
                    <div class='card'>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script type="text/javascript">

    function imagerowsize() {
       if ($(window).width() <= 768) {
            $(".subimagerow").attr("rowspan", 3);
        } else{
            $(".subimagerow").attr("rowspan", 4);
        }
    }


    $(document).ready(function() {
        // Fit each image correctly
        $(".iv-user > img").each(function() {
            fitImage($(this));
        });
        imagerowsize();
    });

    $(window).resize(function() {
        console.log($(window).width());
        imagerowsize();
    });


    // Show the corresponding card and hide the rest on button press
    $("#btnSub").click(function() {
        $(".card-view").hide();
        $("#subView").show();
    });

    $("#btnFav").click(function() {
        $(".card-view").hide();
        $("#favView").show();
    });

    $("#btnCom").click(function() {
        $(".card-view").hide();
        $("#comView").show();
    });

    $("#btnPro").click(function() {
        $(".card-view").hide();
        $("#proView").show();
    });
</script>

{% endblock %}
